{
  "version": 3,
  "sources": ["../../../src/utilities/fetch.ts"],
  "sourcesContent": ["import { LIB_VERSION } from '../version.js'\n\nconst defaultHeaders = {\n  'content-type': 'application/json',\n  'user-agent': `Unagi ${LIB_VERSION}`,\n}\n\ntype FetchInit = {\n  body?: string\n  method?: string\n  headers?: Record<string, string>\n}\n\nexport function fetchBuilder<T>(url: string, options: FetchInit = {}) {\n  const requestInit = {\n    ...options,\n    headers: { ...defaultHeaders, ...options.headers },\n  }\n\n  return async () => {\n    const response = await fetch(url, requestInit)\n\n    if (!response.ok) {\n      throw response\n    }\n\n    const data = await response.json()\n\n    return data as T\n  }\n}\n\nexport function graphqlRequestBody(query: string, variables?: Record<string, any>) {\n  return JSON.stringify({\n    query,\n    variables,\n  })\n}\n\nexport function decodeShopifyId(id: string) {\n  if (!id.startsWith('gid://')) {\n    throw new Error('invalid Shopify ID')\n  }\n  return id\n}\n"],
  "mappings": "AAAA;AAEA,MAAM,iBAAiB;AAAA,EACrB,gBAAgB;AAAA,EAChB,cAAc,SAAS;AACzB;AAQO,sBAAyB,KAAa,UAAqB,CAAC,GAAG;AACpE,QAAM,cAAc;AAAA,IAClB,GAAG;AAAA,IACH,SAAS,EAAE,GAAG,gBAAgB,GAAG,QAAQ,QAAQ;AAAA,EACnD;AAEA,SAAO,YAAY;AACjB,UAAM,WAAW,MAAM,MAAM,KAAK,WAAW;AAE7C,QAAI,CAAC,SAAS,IAAI;AAChB,YAAM;AAAA,IACR;AAEA,UAAM,OAAO,MAAM,SAAS,KAAK;AAEjC,WAAO;AAAA,EACT;AACF;AAEO,4BAA4B,OAAe,WAAiC;AACjF,SAAO,KAAK,UAAU;AAAA,IACpB;AAAA,IACA;AAAA,EACF,CAAC;AACH;AAEO,yBAAyB,IAAY;AAC1C,MAAI,CAAC,GAAG,WAAW,QAAQ,GAAG;AAC5B,UAAM,IAAI,MAAM,oBAAoB;AAAA,EACtC;AACA,SAAO;AACT;",
  "names": []
}
